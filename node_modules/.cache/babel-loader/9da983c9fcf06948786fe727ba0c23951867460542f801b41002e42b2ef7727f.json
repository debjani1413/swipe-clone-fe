{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useDispatch } from 'react-redux';\nimport { setUploadMessage, setTableData } from '../redux/uploadSlice';\nexport const useSendFile = () => {\n  _s();\n  const dispatch = useDispatch();\n  const sendFile = async file => {\n    const formData = new FormData();\n    formData.append('file', file);\n    try {\n      const response = await fetch('http://localhost:5001/upload', {\n        method: 'POST',\n        body: formData\n      });\n      if (!response.ok) {\n        throw new Error('Failed to upload file');\n      }\n      const data = await response.json();\n\n      // Dispatch actions to update Redux state\n      dispatch(setUploadMessage(`File \"${file.name}\" uploaded successfully!`));\n      dispatch(setTableData(data));\n    } catch (error) {\n      console.error('Error uploading file:', error);\n      dispatch(setUploadMessage('Failed to upload file'));\n    }\n  };\n  return sendFile; // Return the function\n};\n_s(useSendFile, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});","map":{"version":3,"names":["useDispatch","setUploadMessage","setTableData","useSendFile","_s","dispatch","sendFile","file","formData","FormData","append","response","fetch","method","body","ok","Error","data","json","name","error","console"],"sources":["/Users/debjani1413/swipe-clone/frontend/src/hooks/useSendFile.js"],"sourcesContent":["import { useDispatch } from 'react-redux';\nimport { setUploadMessage, setTableData } from '../redux/uploadSlice';\n\nexport const useSendFile = () => {\n  const dispatch = useDispatch();\n\n  const sendFile = async (file) => {\n    const formData = new FormData();\n    formData.append('file', file);\n\n    try {\n      const response = await fetch('http://localhost:5001/upload', {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to upload file');\n      }\n\n      const data = await response.json();\n\n      // Dispatch actions to update Redux state\n      dispatch(setUploadMessage(`File \"${file.name}\" uploaded successfully!`));\n      dispatch(setTableData(data));\n    } catch (error) {\n      console.error('Error uploading file:', error);\n      dispatch(setUploadMessage('Failed to upload file'));\n    }\n  };\n\n  return sendFile; // Return the function\n};\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,aAAa;AACzC,SAASC,gBAAgB,EAAEC,YAAY,QAAQ,sBAAsB;AAErE,OAAO,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC/B,MAAMC,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAE9B,MAAMM,QAAQ,GAAG,MAAOC,IAAI,IAAK;IAC/B,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;IAE7B,IAAI;MACF,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAC,8BAA8B,EAAE;QAC3DC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEN;MACR,CAAC,CAAC;MAEF,IAAI,CAACG,QAAQ,CAACI,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;MAC1C;MAEA,MAAMC,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;;MAElC;MACAb,QAAQ,CAACJ,gBAAgB,CAAC,SAASM,IAAI,CAACY,IAAI,0BAA0B,CAAC,CAAC;MACxEd,QAAQ,CAACH,YAAY,CAACe,IAAI,CAAC,CAAC;IAC9B,CAAC,CAAC,OAAOG,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7Cf,QAAQ,CAACJ,gBAAgB,CAAC,uBAAuB,CAAC,CAAC;IACrD;EACF,CAAC;EAED,OAAOK,QAAQ,CAAC,CAAC;AACnB,CAAC;AAACF,EAAA,CA7BWD,WAAW;EAAA,QACLH,WAAW;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}